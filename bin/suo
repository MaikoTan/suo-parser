#!/usr/bin/env node

const fs = require("fs");
const { Tokenizer } = require("../dist/tokenizer");
const { Parser } = require("../dist/parser");
const file = process.argv[2];

fs.readFile(file, "utf8", (err, data) => {
  if (err) {
    throw err;
  }
  const tokenizer = new Tokenizer(data);
  const parser = new Parser(tokenizer);
  const program = parser.parse();

  console.log(JSON.stringify(program, null, 2));
});
